<!DOCTYPE html>
<html>

<head>
    <link rel="stylesheet" href="resource/salesforce-lightning-design-system.css">
    <link rel="stylesheet" href="resource/dsp-manual.css">
    <script src="resource/catalog.js"></script>
</head>

<body>
    <div style="width: 100%; display:flex;">
        <div id="nav" class="" style="width:320px; ">
        </div>

        <div style="" class="container">

            <h1>Upsert</h1>
            
            <p>
                An Upsert Excutable can be used for both inserting and updating data in the target object. The <b>Target Key Field</b> and its mapping must be defined.
            </p>
            <p>
                
                If the "Use Salesforce Upsert API" is unchecked, DSP will check the existentence against the target object, where if the record already exists in the target object,
                DSP will perform the <b>update</b>, and if the record is new in the target, DSP will perform the <b>insert</b>. 
            </p>
            <p>
                If the "Use Salesforce Upsert API" is checked, DSP will skip checking existence against the target, instead, use the native <b>upsert</b> API via the Target Key Field(must be an External Id field).

            </p>
            

            <div class='slds-box note-box_outer'>
                <div class='note-box'>
                    <p class='title'>Note:</p>
                           
                    <p>
                        For <span class='formula'>Directional</span> Executables, DSP retrieves data from the source connection or user can upload CSV files
                        (fields in the mappings must have the exact same name as in the source object).
                    </p>
                    <p>
                        For <span class='formula'>Single Connection</span> Executables,
                        source data can be uploaded from CSV files.
                    </p>
                    <p>
                        <span class='formula'>Directional</span> Executables can be scheduled by adding the Executable records to the related list of a Schedule record.
                    </p>    
                    <p>
                        During execution, Salesforce limitations apply. For example, when the source connection is the current org,
                        the maximum data can be retrieved is 50 million.
                    </p> 
                </div>
            </div>

            <p>

                Below diagram depicts the high level process of 
                how DSP handles the <b>upsert</b> Executables during execution. 
            </p>

            <div class="image-outer">
                <img src="resource/img/upsert.png" style="width:70rem;max-width:150%"/>
                <div class="image-title">Upsert Executable</div>
            </div>
            
        </div>
    </div>
</body>

</html>